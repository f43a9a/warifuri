# ğŸ“„ **warifuri CLI ã‚³ãƒãƒ³ãƒ‰ãƒªã‚¹ãƒˆ v1.2**

> **åˆ¶ä½œè³‡æ–™ç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** â€” 2025-05-26
> ï¼ˆå…¨ 8 ã‚³ãƒãƒ³ãƒ‰ï¼‹ä¸»è¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ä½¿ç”¨ä¾‹ã‚’ç¶²ç¾…ï¼‰

---

## 0. ä¸€è¦§ã‚µãƒãƒª

| ã‚³ãƒãƒ³ãƒ‰                     | å½¹å‰²     | ã²ã¨è¨€ã§                      |
| ------------------------ | ------ | ------------------------- |
| `warifuri init`          | é››å½¢ç”Ÿæˆ   | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ã‚¿ã‚¹ã‚¯ï¼ãƒ†ãƒ³ãƒ—ãƒ¬å±•é–‹         |
| `warifuri list`          | çŠ¶æ…‹ä¸€è¦§   | readyï¼completedï¼å…¨ã‚¿ã‚¹ã‚¯      |
| `warifuri run`           | å®Ÿè¡Œ     | readyè‡ªå‹•å®Ÿè¡Œãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Ÿè¡Œãƒ»ç›´æ¥å®Ÿè¡Œ   |
| `warifuri show`          | å®šç¾©è¡¨ç¤º   | instruction.yamlï¼‹ãƒ¡ã‚¿ã‚’é–²è¦§    |
| `warifuri validate`      | é™çš„æ¤œè¨¼   | ã‚¹ã‚­ãƒ¼ãƒãƒ»å¾ªç’°ä¾å­˜ãƒ»æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯         |
| `warifuri graph`         | å¯è¦–åŒ–    | ä¾å­˜ã‚°ãƒ©ãƒ•ï¼ˆMermaidï¼HTMLï¼ASCIIï¼‰ |
| `warifuri mark-done`     | æ‰‹å‹•å®Œäº†   | `done.md` ã‚’ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ã§ä½œæˆ      |
| `warifuri template list` | ãƒ†ãƒ³ãƒ—ãƒ¬ç¢ºèª | ç™»éŒ²ãƒ†ãƒ³ãƒ—ãƒ¬ã¨å«ã¾ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ã‚’ä¸€è¦§         |

---

## 1. `warifuri init`

| é …ç›®         | å†…å®¹                                                                                                                                                         |
| ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ç›®çš„**     | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ã‚¿ã‚¹ã‚¯ã‚’ç”Ÿæˆã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¤‡è£½ã«ã‚‚å¯¾å¿œ                                                                                                                                 |
| **æ§‹æ–‡**     | `warifuri init <project>`<br>`warifuri init <project>/<task>`<br>`warifuri init --template <tpl>`<br>`warifuri init <project> --template <tpl>/<tpl-task>` |
| **ä¸»ã‚ªãƒ—ã‚·ãƒ§ãƒ³** | `--template` `<tpl>` or `<tpl>/<task>`<br>`--force` ä¸Šæ›¸ã<br>`--dry-run` ç”Ÿæˆå†…å®¹ã®ã¿è¡¨ç¤º                                                                            |
| **ä¾‹**      | `warifuri init vision-ai/resize`<br>`warifuri init --template data-pipeline`                                                                               |

---

## 2. `warifuri list`

|            |                                                                         |                                                                       |                                          |
| ---------- | ----------------------------------------------------------------------- | --------------------------------------------------------------------- | ---------------------------------------- |
| **ç›®çš„**     | ç¾åœ¨ã®ã‚¿ã‚¹ã‚¯çŠ¶æ…‹ã‚’ä¸€è¦§è¡¨ç¤º                                                           |                                                                       |                                          |
| **æ§‹æ–‡**     | \`warifuri list \[--ready                                               | --completed] \[--project <name>] \[--format <type>] \[--fields a,b]\` |                                          |
| **ä¸»ã‚ªãƒ—ã‚·ãƒ§ãƒ³** | `--ready` / `--completed`<br>`--project` `<name>`<br>`--format` \`plain | json                                                                  | tsv`<br>`--fields` `name,description,â€¦\` |
| **ä¾‹**      | `warifuri list --ready --format tsv --fields name`                      |                                                                       |                                          |

---

## 3. `warifuri run`

|            |                                                                                                         |
| ---------- | ------------------------------------------------------------------------------------------------------- |
| **ç›®çš„**     | ã‚¿ã‚¹ã‚¯å®Ÿè¡Œï¼ˆMachine / AI / Human åˆ¤å®šï¼‰                                                                          |
| **æ§‹æ–‡**     | `warifuri run [--task <proj>[/<task>]] [--dry-run] [--force]`                                           |
| **æŒ™å‹•**     | *å¼•æ•°ãªã—* â†’ ready ã‚¿ã‚¹ã‚¯ã‚’1ä»¶è‡ªå‹•å®Ÿè¡Œ<br>`--task <proj>` â†’ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†… ready ã‚’1ä»¶å®Ÿè¡Œ<br>`--task <proj>/<task>` â†’ ãã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œ |
| **ä¸»ã‚ªãƒ—ã‚·ãƒ§ãƒ³** | `--dry-run` / `--force`                                                                                 |
| **ä¾‹**      | `warifuri run`<br>`warifuri run --task vision-ai`                                                       |

---

## 4. `warifuri show`

| é …ç›®     | å†…å®¹                                                   |      |           |
| ------ | ---------------------------------------------------- | ---- | --------- |
| **ç›®çš„** | instruction.yamlï¼‹ãƒ¡ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–²è¦§                           |      |           |
| **æ§‹æ–‡** | \`warifuri show --task <proj>/<task> \[--format yaml | json | pretty]\` |
| **ä¾‹**  | `warifuri show --task media/normalize --format yaml` |      |           |

---

## 5. `warifuri validate`

|        |                                |
| ------ | ------------------------------ |
| **ç›®çš„** | YAML ã‚¹ã‚­ãƒ¼ãƒ + å¾ªç’°ä¾å­˜ + å…¥å‡ºåŠ›æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯  |
| **æ§‹æ–‡** | `warifuri validate [--strict]` |
| **ä¾‹**  | `warifuri validate --strict`   |

---

## 6. `warifuri graph`

| é …ç›®     | å†…å®¹                                                      |       |                  |
| ------ | ------------------------------------------------------- | ----- | ---------------- |
| **ç›®çš„** | ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ã‚’ç”Ÿæˆ                                              |       |                  |
| **æ§‹æ–‡** | \`warifuri graph \[--project <name>] \[--format mermaid | ascii | html] \[--web]\` |
| **ä¾‹**  | `warifuri graph --format html --web`                    |       |                  |

---

## 7. `warifuri mark-done`

| é …ç›®     | å†…å®¹                                                         |
| ------ | ---------------------------------------------------------- |
| **ç›®çš„** | æ‰‹å‹•ã‚¿ã‚¹ã‚¯ã‚’æœ€çŸ­ã§å®Œäº†å‡¦ç†                                              |
| **æ§‹æ–‡** | `warifuri mark-done <proj>/<task> [--message "text"]`      |
| **å‹•ä½œ** | `done.md` ã‚’ä½œæˆã—ã€`--message` ãŒã‚ã‚Œã°1è¡Œç›®ã«æ›¸ãè¾¼ã‚€                    |
| **ä¾‹**  | `warifuri mark-done vision-ai/annotate --message "æ‰‹å‹•ç¢ºèªå®Œäº†"` |

---

## 8. `warifuri template list`

| é …ç›®     | å†…å®¹                                        |         |
| ------ | ----------------------------------------- | ------- |
| **ç›®çš„** | åˆ©ç”¨å¯èƒ½ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨å«ã¾ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ã‚’ç¢ºèª                    |         |
| **æ§‹æ–‡** | \`warifuri template list \[--format plain | json]\` |
| **ä¾‹**  | `warifuri template list --format json`    |         |


äº†è§£ã§ã™ã€‚**GitHub Issue é€£æºã‚³ãƒãƒ³ãƒ‰ã‚’æ­£å¼ã«è¿½åŠ **ã—ã€å­ Issue ã‚’ã¾ã¨ã‚ã¦èµ·ç¥¨ã§ãã‚‹ãƒ•ãƒ­ãƒ¼ã‚‚å«ã‚ã¦ä»•æ§˜ã‚’ã¾ã¨ã‚ç›´ã—ã¾ã—ãŸã€‚

---

## 9.`warifuri issue` ã‚³ãƒãƒ³ãƒ‰ä»•æ§˜

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿                  | ç”¨é€”                                                                  | è£œè¶³                          |
| ---------------------- | ------------------------------------------------------------------- | --------------------------- |
| `--project <proj>`     | **è¦ª Issue**ã‚’ 1 ä»¶ä½œæˆ                                                  | ã‚¿ã‚¤ãƒˆãƒ« `[PROJECT] <proj>`     |
| `--task <proj>/<task>` | **å­ Issue**ã‚’ 1 ä»¶ä½œæˆ                                                  | ã‚¿ã‚¤ãƒˆãƒ« `[TASK] <proj>/<task>` |
| `--all-tasks <proj>`   | **æŒ‡å®šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé…ä¸‹ã® *å…¨ã‚¿ã‚¹ã‚¯*** ã‚’ä¸€æ‹¬ã§å­ Issue åŒ–                                | readyï¼pending é–¢ä¿‚ãªããƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’èµ°æŸ» |
| **å…±é€šã‚ªãƒ—ã‚·ãƒ§ãƒ³**            |                                                                     |                             |
| `--assignee <user>`    | 1 ä»¶ç”Ÿæˆæ™‚ : ãã® Issue ã« Assignee ã‚’ä»˜ä¸<br>ä¸€æ‹¬æ™‚â€ƒ : å…¨ Issue ã«åŒä¸€ Assignee ã‚’ä»˜ä¸ |                             |
| `--label a,b,c`        | ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§ãƒ©ãƒ™ãƒ«ä»˜ä¸ï¼ˆè¤‡æ•°å¯ï¼‰                                                   |                             |
| `--dry-run`            | GitHub ã«ã¯æŠ•ã’ãšã€ç”Ÿæˆã•ã‚Œã‚‹ã‚¿ã‚¤ãƒˆãƒ«ï¼æœ¬æ–‡ã‚’æ¨™æº–å‡ºåŠ›ã«è¡¨ç¤º                                   |                             |

> å®Ÿè£…ï¼šå†…éƒ¨ã§ `gh issue create` ã‚’å‘¼ã³å‡ºã—ã€æˆåŠŸã—ãŸ Issue URL ã‚’ CLI å‡ºåŠ›ã€‚

---

### 1ï¸âƒ£ è¦ª Issueç”Ÿæˆ

```bash
warifuri issue --project vision-ai --assignee @lead
```

ä½œæˆå†…å®¹ï¼ˆä¾‹ï¼‰

| é …ç›®    | å€¤                                                             |
| ----- | ------------------------------------------------------------- |
| Title | `[PROJECT] vision-ai`                                         |
| Body  | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ãƒ†ãƒ³ãƒ—ãƒ¬ï¼‹ç©ºãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ<br>ï¼ˆ`templates/project-body.md` ãŒã‚ã‚Œã°æµç”¨ï¼‰ |

---

### 2ï¸âƒ£ å­ Issue 1 ä»¶ç”Ÿæˆ

```bash
warifuri issue --task vision-ai/resize --assignee @alice --label ready,type:machine
```

æœ¬æ–‡ã¯ `instruction.yaml` ã‹ã‚‰è‡ªå‹•æŠ½å‡ºï¼š

* **å¯¾è±¡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: `projects/vision-ai/resize/`
* **å®Ÿè¡Œã‚¿ã‚¤ãƒ—**: Machine / AI / Human ã‚’è‡ªå‹•åˆ¤å®š
* **ä¾å­˜ã‚¿ã‚¹ã‚¯**: `dependencies` ãƒªã‚¹ãƒˆ
* **æ¦‚è¦**: `description` å†’é ­ 3 è¡Œï¼ˆé•·ã„å ´åˆã¯æŠ˜ã‚Šç•³ã¿ï¼‰

---

### 3ï¸âƒ£ å­ Issue ä¸€æ‹¬ç”Ÿæˆ

```bash
# vision-ai ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé…ä¸‹ã®ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã‚’IssueåŒ–
warifuri issue --all-tasks vision-ai --label todo --assignee @pm
```

å‹•ä½œãƒ•ãƒ­ãƒ¼

1. `workspace/projects/vision-ai/*/instruction.yaml` ã‚’åˆ—æŒ™
2. ã¾ã åŒå `[TASK] â€¦` Issue ãŒå­˜åœ¨ã—ãªã„ã‚¿ã‚¹ã‚¯ã ã‘ã‚’å¯¾è±¡ã«ã™ã‚‹
3. `gh issue create` ã‚’é€£ç¶šå‘¼ã³å‡ºã—
4. ç”Ÿæˆã•ã‚ŒãŸ Issue URL ã‚’ä¸€è¦§ã§å‡ºåŠ›ï¼ˆdry-run ãªã‚‰ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã¿ï¼‰

---

## ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§ï¼ˆæœ€çµ‚ç‰ˆ v1.3 Î±ï¼‰

| ã‚³ãƒãƒ³ãƒ‰                         | ç›®çš„                         |
| ---------------------------- | -------------------------- |
| **`warifuri init`**          | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ã‚¿ã‚¹ã‚¯ï¼ãƒ†ãƒ³ãƒ—ãƒ¬ç”Ÿæˆ          |
| **`warifuri list`**          | ã‚¿ã‚¹ã‚¯çŠ¶æ…‹ä¸€è¦§                    |
| **`warifuri run`**           | ready è‡ªå‹•å®Ÿè¡Œãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå˜ä½å®Ÿè¡Œãƒ»ç›´æ¥å®Ÿè¡Œ |
| **`warifuri show`**          | ã‚¿ã‚¹ã‚¯å®šç¾©ï¼ãƒ¡ã‚¿è¡¨ç¤º                 |
| **`warifuri validate`**      | YAML + ä¾å­˜æ¤œè¨¼                |
| **`warifuri graph`**         | ä¾å­˜ã‚°ãƒ©ãƒ•å¯è¦–åŒ–                   |
| **`warifuri mark-done`**     | æ‰‹å‹•å®Œäº†ãƒ•ãƒ©ã‚°ä½œæˆ                  |
| **`warifuri template list`** | ãƒ†ãƒ³ãƒ—ãƒ¬ä¸€è¦§                     |
| **`warifuri issue`** â˜…       | GitHub Issue èµ·ç¥¨ï¼ˆè¦ªï¼å­ï¼ä¸€æ‹¬ï¼‰    |

